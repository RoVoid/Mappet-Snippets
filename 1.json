{
    "latest": "0.9",
    "0.9": {
        "": "This clip shows how to set up the script below in order to add a feature that does something (in this script, it plays a sound, but you can customize it to your own needs) when a player looks at some entity programmed into the script.\n\n<p>The part <code>(target.isNpc() && target.getNpcId() === \"%NPC_ID%\")</code> checks whether the horse sound should be played, and the code inside of <code>{}</code> plays the horse ambient sound effect (you may want to change that).</p>\n\n<p>You may want to remove the part starting at line <code>// Start: Feel free to remove this</code> and ending at <code>// End: Feel free to remove this</code> that plays a funny victory sound when looking at a cow.</p>\n\n<pre>{@code /* IMPORTANT: Enable Unique option for this script!!! */\n\nvar cache = {};\n\nfunction main(c) {\n    var players = c.getServer().getAllPlayers();\n\n    /* Check every player during the server tick event */\n    for (var i in players) {\n        var player = players[i];\n        var rt = player.rayTrace(5);\n\n        /* If player is looking at an entity, then we can check\n         * whether the target entity meets requirements for the\n         * sound effect */\n        if (rt.isEntity()) {\n            var target = rt.getEntity();\n\n            if (cache[player.getUniqueId()] !== target.getUniqueId()) {\n                /* Cache target's unique ID to avoid repeating sound\n                 * for the same entity... */\n                cache[player.getUniqueId()] = target.getUniqueId();\n\n                if (target.isNpc() && target.getNpcId() === \"%NPC_ID%\") {\n                    /* Play sound relative to the player (without 3D) */\n                    player.playStaticSound(\"minecraft:entity.horse.ambient\", 1, 1);\n                }\n                // Start: Feel free to remove this\n                else if (target.getEntityId() === \"minecraft:cow\") {\n                    player.playStaticSound(\"minecraft:ui.toast.challenge_complete\", 1, 1);\n                }\n                // End: Feel free to remove this\n            }\n        } else {\n            /* If the player doesn't look at anything, remove the\n             * last looked at target from the cache map */\n            delete cache[player.getUniqueId()];\n        }\n    }\n}\n}</pre>",
        "ru_ru": "Этот клип показывает, как настроить скрипт ниже для добавления функции, которая выполняет действие (в этом скрипте проигрывается звук, но вы можете настроить под свои нужды), когда игрок смотрит на определённый объект, запрограммированный в скрипте.\n\n<p>Часть <code>(target.isNpc() && target.getNpcId() === \"%NPC_ID%\")</code> проверяет, должен ли воспроизводиться звук лошади, а код внутри <code>{}</code> воспроизводит звуковой эффект лошадиного амбиента (вы можете захотеть изменить это).</p>\n\n<p>Вы можете удалить часть, начинающуюся с строки <code>// Start: Feel free to remove this</code> и заканчивающуюся <code>// End: Feel free to remove this</code>, которая воспроизводит забавный звук победы при взгляде на корову.</p>\n\n<pre>{@code /* ВАЖНО: Включите опцию Unique для этого скрипта!!! */\n\nvar cache = {};\n\nfunction main(c) {\n    var players = c.getServer().getAllPlayers();\n\n    /* Проверяем каждого игрока во время события тика сервера */\n    for (var i in players) {\n        var player = players[i];\n        var rt = player.rayTrace(5);\n\n        /* Если игрок смотрит на сущность, тогда можно проверить,\n         * соответствует ли цель требованиям для звукового эффекта */\n        if (rt.isEntity()) {\n            var target = rt.getEntity();\n\n            if (cache[player.getUniqueId()] !== target.getUniqueId()) {\n                /* Кэшируем уникальный ID цели, чтобы избежать повторного звука\n                 * для одной и той же сущности... */\n                cache[player.getUniqueId()] = target.getUniqueId();\n\n                if (target.isNpc() && target.getNpcId() === \"%NPC_ID%\") {\n                    /* Проигрываем звук относительно игрока (без 3D) */\n                    player.playStaticSound(\"minecraft:entity.horse.ambient\", 1, 1);\n                }\n                // Start: Можете удалить этот блок\n                else if (target.getEntityId() === \"minecraft:cow\") {\n                    player.playStaticSound(\"minecraft:ui.toast.challenge_complete\", 1, 1);\n                }\n                // End: Можете удалить этот блок\n            }\n        } else {\n            /* Если игрок ни на что не смотрит, удаляем\n             * последний сохранённый в кэше объект */\n            delete cache[player.getUniqueId()];\n        }\n    }\n}\n}</pre>"
    }
}
